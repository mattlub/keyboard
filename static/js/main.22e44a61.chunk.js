(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){},,,function(e,t,n){e.exports=n(27)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),s=n.n(c),i=(n(16),n(2)),l=n(3),o=n(5),u=n(4),d=n(6),h=n(1),m=(n(18),{q:"\u0636",w:"\u0635",e:"\u062b",r:"\u0642",t:"\u0641",y:"\u063a",u:"\u0639",i:"\u0647",o:"\u062e",p:"\u062d","[":"\u062c","]":"\u0629",a:"\u0634",s:"\u0633",d:"\u064a",f:"\u0628",g:"\u0644",h:"\u0627",j:"\u062a",k:"\u0646",l:"\u0645",";":"\u0643",z:"\u0638",x:"\u0637",c:"\u0630",v:"\u062f",b:"\u0632",n:"\u0631",m:"\u0648"}),f=[["q","w","e","r","t","y","u","i","o","p","[","]"],["a","s","d","f","g","h","j","k","l",";"],["z","x","c","v","b","n","m"]],b=[{id:-5,en:"easy",ar:"\u0633\u0647\u0644"},{id:-4,en:"difficult",ar:"\u0635\u0639\u0628"},{id:-3,en:"important",ar:"\u0636\u0631\u0648\u0631\u064a"},{id:-2,en:"yesterday",ar:"\u0645\u0628\u0627\u0631\u062d"},{id:-1,en:"tomorrow",ar:"\u0628\u0643\u0631\u0627"}],p={test:"test",cards:"cards",add:"add",help:"help"},v=["test","cards","add"],y=function(e){var t=e.selected,n=e.handleChange;return r.a.createElement("nav",{className:"nav"},v.map(function(e){return r.a.createElement("button",{key:e,className:"nav__item ".concat(e===t?"nav__item--selected":""),onClick:function(){return n(e)}},r.a.createElement("div",{className:"nav__item-text"},e))}))},E=function(e){var t=e.selectedTab,n=e.handleTabChange;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-content"},r.a.createElement("div",{className:"tools"},r.a.createElement("button",{onClick:function(){return n(p.help)},className:"help-button"},"?")),r.a.createElement(y,{selected:t,handleChange:n})))},w=(n(20),Object(a.forwardRef)(function(e,t){var n=e.character;return r.a.createElement("div",{className:"key",ref:t},r.a.createElement("span",{className:"english-character"},n),r.a.createElement("span",{className:"arabic-character"},m[n]))})),k=(n(22),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).keyRefs={},n.setRef=function(e){return function(t){n.keyRefs[e]=t}},n.keypressListener=n.keypressListener.bind(Object(h.a)(Object(h.a)(n))),n.keyupListener=n.keyupListener.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"keypressListener",value:function(e){var t=e.key;this.keyRefs[t]&&this.keyRefs[t].classList.add("light")}},{key:"keyupListener",value:function(e){var t=e.key;this.keyRefs[t]&&this.keyRefs[t].classList.remove("light")}},{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.keypressListener),document.addEventListener("keyup",this.keyupListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.keypressListener),document.removeEventListener("keyup",this.keyupListener)}},{key:"renderKey",value:function(e){return r.a.createElement(w,{character:e,key:e,ref:this.setRef(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"keyboard"},r.a.createElement("div",{className:"keyboard-row row-1"},f[0].map(function(t){return e.renderKey(t)})),r.a.createElement("div",{className:"keyboard-row row-2"},f[1].map(function(t){return e.renderKey(t)})),r.a.createElement("div",{className:"keyboard-row row-3"},f[2].map(function(t){return e.renderKey(t)}))))}}]),t}(a.Component)),g=function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)throw new Error("cannot pick something from empty array!");return 0===a.length?t[(n=t.length,Math.floor(Math.random()*n))]:e(t.filter(function(e){return!a.includes(e)}))},N=function(e){return e.split("").map(function(e){return m[e]||e}).join("")},j=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={correct:!1,word:g(n.props.words),input:"",showAnswer:!1},n.inputRef=null,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.inputRef.focus()}},{key:"handleInputChange",value:function(e){var t=this;if(!this.state.correct){var n=this.props.words,a=this.state.word,r=N(e.target.value),c=r===a.ar;this.setState({input:r,correct:c}),c&&setTimeout(function(){t.setState(function(e){return{correct:!1,word:g(n,[e.word]),input:"",showAnswer:!1}})},2e3)}}},{key:"handleSkip",value:function(){var e=this;this.setState(function(t){return{word:g(e.props.words,[t.word]),input:"",showAnswer:!1}})}},{key:"handleShowAnswer",value:function(){this.setState({showAnswer:!0}),this.inputRef.focus()}},{key:"render",value:function(){var e=this,t=this.state,n=t.word,a=t.correct,c=t.input,s=t.showAnswer;return r.a.createElement("div",null,r.a.createElement("div",{className:"guess-section"},r.a.createElement("div",{className:"english-word"},n.en),r.a.createElement("input",{ref:function(t){return e.inputRef=t},className:"arabic-input ".concat(a?"correct":""),direction:"rtl",value:c,onChange:function(t){return e.handleInputChange(t)}}),r.a.createElement("div",{className:"show-answer"},s&&n.ar),r.a.createElement("div",null,r.a.createElement("button",{className:"button button--not-disabled",onClick:function(){return e.handleSkip()}},"Skip"),r.a.createElement("button",{className:"button button--".concat(s?"":"not-","disabled"),disabled:s,onClick:function(){return e.handleShowAnswer()}},"Show Answer"))),r.a.createElement(k,null))}}]),t}(a.Component),O=(n(24),function(e){var t=e.words,n=e.handleDelete;return r.a.createElement("table",{className:"cards-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"en-col"},"English"),r.a.createElement("th",{className:"ar-col"},"Arabic"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"en-col"},e.en),r.a.createElement("td",{className:"ar-col"},e.ar),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return n(e.id)}},"delete")))})))}),A=n(10),C=(n(8),{english:"",arabic:"",isArabicInputFocused:!1,successMessage:""}),S=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state=C,n.englishInputRef=null,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleArabicInputFocus",value:function(){this.setState({isArabicInputFocused:!0})}},{key:"handleArabicInputBlur",value:function(){this.setState({isArabicInputFocused:!1})}},{key:"handleEnglishInputChange",value:function(e){this.setState({english:e.target.value})}},{key:"handleArabicInputChange",value:function(e){var t=N(e.target.value);this.setState({arabic:t})}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var n=this.props.handleAdd,a=this.state;n({english:a.english,arabic:a.arabic}),this.setState(Object(A.a)({},C,{successMessage:"successfully added new card!"})),setTimeout(function(){t.setState({successMessage:""})},2e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.english,a=t.arabic,c=t.isArabicInputFocused;return r.a.createElement("div",{className:"add-section"},r.a.createElement("form",{className:"add-form",onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("label",{className:"add-form__field"},"English",r.a.createElement("input",{className:"add-form__input",ref:function(t){return e.englishInputRef=t},value:n,onChange:function(t){return e.handleEnglishInputChange(t)}})),r.a.createElement("label",{className:"add-form__field"},"Arabic",r.a.createElement("input",{className:"add-form__input",direction:"rtl",value:a,onChange:function(t){return e.handleArabicInputChange(t)},onFocus:function(){return e.handleArabicInputFocus()},onBlur:function(){return e.handleArabicInputBlur()}})),r.a.createElement("button",{disabled:!(a&&n),className:"button button--".concat(a&&n?"":"not","disabled add-form__submit-button"),type:"submit"},"Add new card"),r.a.createElement("div",{className:"message"},this.state.successMessage),c&&r.a.createElement(k,null)))}}]),t}(a.Component),I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Help"),r.a.createElement("p",null,"Visit the ",r.a.createElement("a",{href:"http://github.com/mattlub/keyboard",target:"_blank"},"github repository")," for this app to learn more about it."),r.a.createElement("h3",null,"Tabs"),r.a.createElement("p",null,"In the ",r.a.createElement("strong",null,"test")," tab, you test yourself on the vocabulary, while practising typing using an arabic keyboard layout."),r.a.createElement("p",null,"In the ",r.a.createElement("strong",null,"cards")," tab, can see all the cards which you have created."),r.a.createElement("p",null,"In the ",r.a.createElement("strong",null,"add")," tab, you can add new vocabulary which will then come up in the test tab."))},_=function(){return JSON.parse(localStorage.getItem("words"))},L=function(e){return localStorage.setItem("words",JSON.stringify(e))},T=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={selectedTab:p.test,words:_()||b},n.handleTabChange=n.handleTabChange.bind(Object(h.a)(Object(h.a)(n))),n.handleAdd=n.handleAdd.bind(Object(h.a)(Object(h.a)(n))),n.handleDelete=n.handleDelete.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){L(this.state.words)}},{key:"componentDidUpdate",value:function(e,t){L(this.state.words)}},{key:"handleTabChange",value:function(e){this.setState({selectedTab:e})}},{key:"handleAdd",value:function(e){var t=e.english,n=e.arabic,a=this.state.words.slice().pop();console.log({previousWord:a});var r={id:a&&a.id+1||1,en:t,ar:n};this.setState(function(e){return{words:e.words.concat(r)}})}},{key:"handleDelete",value:function(e){this.setState(function(t){return{words:t.words.filter(function(t){return t.id!==e})}})}},{key:"renderContent",value:function(){var e=this.state,t=e.selectedTab,n=e.words;if(t===p.test)return r.a.createElement(j,{words:n});if(t===p.cards)return r.a.createElement(O,{words:n,handleDelete:this.handleDelete});if(t===p.add)return r.a.createElement(S,{handleAdd:this.handleAdd});if(t===p.help)return r.a.createElement(I,null);throw new Error("invalid selectedTab")}},{key:"render",value:function(){var e=this.state.selectedTab;return r.a.createElement("div",{className:"App"},r.a.createElement(E,{selectedTab:e,handleTabChange:this.handleTabChange}),r.a.createElement("div",{className:"content"},this.renderContent()))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,2,1]]]);
//# sourceMappingURL=main.22e44a61.chunk.js.map